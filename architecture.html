<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

      <title>Architecture overview</title>
    
          <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="_static/theme.css " type="text/css" />
          <link rel="stylesheet" href="_static/custom.css" type="text/css" />
      
      <!-- sphinx script_files -->
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="_static/theme-vendors.js"></script> -->
      <script src="_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
  <link rel="next" title="Distributed deployment" href="deployment.html" />
  <link rel="prev" title="Welcome to FEDn’s documentation" href="readme.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="index.html" class="home-link">
    
      <img class="logo" src="_static/fedn_logo.webp" alt="logo"/>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#welcome-to-fedn">Contents:</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 ">
            
              <a href="readme.html" class="reference internal ">Welcome to FEDn’s documentation</a>
            

            
          </li>

        
          <li class="toctree-l1 current">
            
              <a href="#" class="reference internal current">Architecture overview</a>
            

            
              <ul>
                
                  <li class="toctree-l2"><a href="#main-components" class="reference internal">Main components</a></li>
                
                  <li class="toctree-l2"><a href="#services-and-communication" class="reference internal">Services and communication</a></li>
                
                  <li class="toctree-l2"><a href="#control-flows-and-algorithms" class="reference internal">Control flows and algorithms</a></li>
                
              </ul>
            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="deployment.html" class="reference internal ">Distributed deployment</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="tutorial.html" class="reference internal ">Tutorial: Compute Package</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="releasenotes.html" class="reference internal ">Release Notes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="sdk.html" class="reference internal ">SDK Documentation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="faq.html" class="reference internal ">Frequently asked questions</a>
            

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
    <li>Architecture overview</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="readme.html"
       title="previous chapter">← Welcome to FEDn’s documentation</a>
  </li>
  <li class="next">
    <a href="deployment.html"
       title="next chapter">Distributed deployment →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <section id="architecture-overview">
<h1>Architecture overview<a class="headerlink" href="#architecture-overview" title="Permalink to this headline">¶</a></h1>
<p>Constructing a federated model with FEDn amounts to a) specifying the details of the client-side training code and data integrations, and b) deploying the reducer-combiner network. A FEDn network, as illustrated in the picture below, is made up of three main components: the <em>Reducer</em>, one or more <em>Combiners</em>, and a number of <em>Clients</em>. The combiner network forms the backbone of the FedML orchestration mechanism, while the Reducer provides discovery services and provides controls to coordinate training over the combiner network. By horizontally scaling the combiner network, one can meet the needs of a growing number of clients.</p>
<a class="reference internal image-reference" href="_images/overview.png"><img alt="FEDn network" class="align-center" src="_images/overview.png" style="width: 100%;" /></a>
<section id="main-components">
<h2>Main components<a class="headerlink" href="#main-components" title="Permalink to this headline">¶</a></h2>
<section id="client">
<h3>Client<a class="headerlink" href="#client" title="Permalink to this headline">¶</a></h3>
<p>A Client is a data node, holding private data and connecting to a Combiner to receive model update requests and model validation requests during training rounds. Importantly, clients do not require any open ingress ports. A client receives the code to be executed from the Reducer upon connecting to the network, and thus they only need to be configured prior to connection to read the local datasets during training and validation. Python3 client implementation is provided out of the box, and it is possible to write clients in a variety of languages to target different software and hardware requirements.</p>
</section>
<section id="combiner">
<h3>Combiner<a class="headerlink" href="#combiner" title="Permalink to this headline">¶</a></h3>
<p>A combiner is an actor whose main role is to orchestrate and aggregate model updates from a number of clients during a training round. When and how to trigger such orchestration rounds are specified in the overall <em>compute plan</em> laid out by the Reducer. Each combiner in the network runs an independent gRPC server, providing RPCs for interacting with the alliance subsystem it controls. Hence, the total number of clients that can be accommodated in a FEDn network is proportional to the number of active combiners in the FEDn network. Combiners can be deployed anywhere, e.g. in a cloud or on a fog node to provide aggregation services near the cloud edge.</p>
</section>
<section id="reducer">
<h3>Reducer<a class="headerlink" href="#reducer" title="Permalink to this headline">¶</a></h3>
<p>The reducer fills three main roles in the FEDn network: 1.) it lays out the overall, global training strategy and communicates that to the combiner network. It also dictates the strategy to aggregate model updates from individual combiners into a single global model, 2.) it handles global state and maintains the <em>model trail</em> - an immutable trail of global model updates uniquely defining the FedML training timeline, and  3.) it provides discovery services, mediating connections between clients and combiners. For this purpose, the Reducer exposes a standard REST API.</p>
</section>
</section>
<section id="services-and-communication">
<h2>Services and communication<a class="headerlink" href="#services-and-communication" title="Permalink to this headline">¶</a></h2>
<p>The figure below provides a logical architecture view of the services provided by each agent and how they interact.</p>
<a class="reference internal image-reference" href="_images/FEDn-arch-overview.png"><img alt="FEDn architecture overview" class="align-center" src="_images/FEDn-arch-overview.png" style="width: 100%;" /></a>
</section>
<section id="control-flows-and-algorithms">
<h2>Control flows and algorithms<a class="headerlink" href="#control-flows-and-algorithms" title="Permalink to this headline">¶</a></h2>
<p>FEDn is designed to allow customization of the FedML algorithm, following a specified pattern, or programming model. Model aggregation happens on two levels in the system. First, each Combiner can be configured with a custom orchestration and aggregation implementation, that reduces model updates from Clients into a single, <em>combiner level</em> model. Then, a configurable aggregation protocol on the Reducer level is responsible for combining the combiner-level models into a global model. By varying the aggregation schemes on the two levels in the system, many different possible outcomes can be achieved. Good staring configurations are provided out-of-the-box to help the user get started.</p>
<section id="hierarchical-federated-averaging">
<h3>Hierarchical Federated Averaging<a class="headerlink" href="#hierarchical-federated-averaging" title="Permalink to this headline">¶</a></h3>
<p>The currently implemented default scheme uses a local SGD strategy on the Combiner level aggregation and a simple average of models on the reducer level. This results in a highly horizontally scalable FedAvg scheme. The strategy works well with most artificial neural network (ANNs) models, and can in general be applied to models where it is possible and makes sense to form mean values of model parameters (for example SVMs). Additional FedML training protocols, including support for various types of federated ensemble models, are in active development.</p>
<a class="reference internal image-reference" href="_images/HFedAvg.png"><img alt="FEDn architecture overview" class="align-center" src="_images/HFedAvg.png" style="width: 100%;" /></a>
</section>
</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="readme.html"
       title="previous chapter">← Welcome to FEDn’s documentation</a>
  </li>
  <li class="next">
    <a href="deployment.html"
       title="next chapter">Distributed deployment →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2021, Scaleout Systems AB.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.2 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a> 0.8.0.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
    
  </body>
</html>